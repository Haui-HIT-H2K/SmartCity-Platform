# BÃ i TrÃ¬nh Diá»…n SmartCity-Platform
## Thá»i lÆ°á»£ng: 10-15 phÃºt (bao gá»“m demo, giáº£i thÃ­ch vÃ  há»i Ä‘Ã¡p)

---

## ğŸ“‹ Cáº¥u trÃºc BÃ i trÃ¬nh diá»…n

**PhÃ¢n bá»• thá»i gian:**
- **Giá»›i thiá»‡u tá»•ng quan: 2 phÃºt**
- **Demo há»‡ thá»‘ng: 5-6 phÃºt**
- **Giáº£i thÃ­ch ká»¹ thuáº­t: 3-4 phÃºt**
- **Há»i Ä‘Ã¡p: 2-3 phÃºt**

---

## ğŸ¯ PHáº¦N 1: GIá»šI THIá»†U (2 phÃºt)

### Slide 1: ThÃ´ng tin Ä‘á»™i thi
**Ná»™i dung:**
- **TÃªn dá»± Ã¡n:** SmartCity-Platform
- **Äá»™i thi:** Haui-HIT-H2K
- **TrÆ°á»ng:** TrÆ°á»ng CÃ´ng Nghá»‡ ThÃ´ng Tin vÃ  Truyá»n ThÃ´ng (SICT) - Äáº¡i Há»c CÃ´ng Nghiá»‡p HÃ  Ná»™i
- **ThÃ nh viÃªn:**
  - Nguyá»…n Huy HoÃ ng
  - Tráº§n Danh Khang
- **Giáº¥y phÃ©p:** Apache License 2.0

**Script:**
> "Xin chÃ o quÃ½ ban giÃ¡m kháº£o, em lÃ  [tÃªn], Ä‘áº¡i diá»‡n cho Ä‘á»™i Haui-HIT-H2K. HÃ´m nay nhÃ³m em xin trÃ¬nh bÃ y vá» dá»± Ã¡n SmartCity-Platform - má»™t ná»n táº£ng dá»¯ liá»‡u Ä‘Ã´ thá»‹ thÃ´ng minh sá»­ dá»¥ng Machine Learning Ä‘á»ƒ quáº£n lÃ½ dá»¯ liá»‡u IoT."

### Slide 2: Váº¥n Ä‘á» vÃ  Giáº£i phÃ¡p
**Ná»™i dung:**

**âŒ Váº¥n Ä‘á» hiá»‡n táº¡i:**
- Há»‡ thá»‘ng IoT truyá»n thá»‘ng dá»… bá»‹ quÃ¡ táº£i khi cÃ³ data spike
- Xá»­ lÃ½ má»i dá»¯ liá»‡u nhÆ° nhau â†’ lÃ£ng phÃ­ tÃ i nguyÃªn
- KhÃ´ng phÃ¢n biá»‡t Ä‘Æ°á»£c dá»¯ liá»‡u kháº©n cáº¥p vÃ  dá»¯ liá»‡u thÃ´ng thÆ°á»ng

**âœ… Giáº£i phÃ¡p cá»§a chÃºng em:**
- **ML-Driven Classification:** Tá»± Ä‘á»™ng phÃ¢n loáº¡i dá»¯ liá»‡u HOT/WARM/COLD
- **Pull-based Architecture:** Backend chá»§ Ä‘á»™ng pull, khÃ´ng bá»‹ quÃ¡ táº£i
- **Tiered Storage:** LÆ°u trá»¯ thÃ´ng minh dá»±a trÃªn Ä‘á»™ quan trá»ng

**Script:**
> "CÃ¡c há»‡ thá»‘ng IoT thÃ´ng thÆ°á»ng thÆ°á»ng gáº·p váº¥n Ä‘á» quÃ¡ táº£i khi cÃ³ lÆ°á»£ng dá»¯ liá»‡u Ä‘á»™t biáº¿n. NgoÃ i ra, chÃºng xá»­ lÃ½ má»i dá»¯ liá»‡u nhÆ° nhau, khÃ´ng phÃ¢n biá»‡t cáº£nh bÃ¡o kháº©n cáº¥p vÃ  dá»¯ liá»‡u bÃ¬nh thÆ°á»ng.
>
> Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y, nhÃ³m em xÃ¢y dá»±ng SmartCity-Platform vá»›i 3 Ä‘áº·c Ä‘iá»ƒm chÃ­nh:
> - Sá»­ dá»¥ng Machine Learning Ä‘á»ƒ tá»± Ä‘á»™ng phÃ¢n loáº¡i dá»¯ liá»‡u theo má»©c Ä‘á»™ quan trá»ng
> - Ãp dá»¥ng kiáº¿n trÃºc Pull-based Ä‘á»ƒ trÃ¡nh quÃ¡ táº£i há»‡ thá»‘ng
> - LÆ°u trá»¯ phÃ¢n táº§ng, dá»¯ liá»‡u quan trá»ng Ä‘Æ°á»£c Æ°u tiÃªn truy xuáº¥t nhanh"

---

## ğŸ–¥ï¸ PHáº¦N 2: DEMO Há»† THá»NG (5-6 phÃºt)

### Demo 1: Dashboard Tá»•ng quan (1.5 phÃºt)
**Vá»‹ trÃ­:** http://localhost:3000

**Äiá»ƒm nháº¥n:**
1. **Edge Node Status Cards**
   - Hiá»ƒn thá»‹ 2 edge nodes: Subnet-CauGiay, Subnet-ThanhXuan
   - Tráº¡ng thÃ¡i: Online/Offline
   - Toggle báº­t/táº¯t edge node

2. **Data Ingestion Rate Chart**
   - Biá»ƒu Ä‘á»“ real-time (auto-refresh má»—i 2 giÃ¢y)
   - Incoming rate vs Processed rate
   - Cho tháº¥y há»‡ thá»‘ng xá»­ lÃ½ á»•n Ä‘á»‹nh ~500 msg/s

3. **Storage Statistics**
   - HOT Storage (Redis): ~14.25M records
   - COLD Storage (MongoDB): ~25.75M records
   - Tá»· lá»‡ HOT:COLD = 35:65

**Script:**
> "BÃ¢y giá» em xin demo há»‡ thá»‘ng Ä‘ang cháº¡y thá»±c táº¿. ÄÃ¢y lÃ  Dashboard tá»•ng quan.
>
> [CHá»ˆ VÃ€O EDGE NODES]
> Há»‡ thá»‘ng Ä‘ang quáº£n lÃ½ 2 edge nodes - Subnet-CauGiay vÃ  Subnet-ThanhXuan, cáº£ hai Ä‘ang hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng. ChÃºng em cÃ³ thá»ƒ toggle báº­t/táº¯t tá»«ng node Ä‘á»ƒ quáº£n lÃ½.
>
> [CHá»ˆ VÃ€O CHART]
> Biá»ƒu Ä‘á»“ nÃ y hiá»ƒn thá»‹ tá»‘c Ä‘á»™ nháº­n vÃ  xá»­ lÃ½ dá»¯ liá»‡u real-time. Há»‡ thá»‘ng Ä‘ang pull vÃ  xá»­ lÃ½ khoáº£ng 500 messages má»—i giÃ¢y. Dá»¯ liá»‡u tá»± Ä‘á»™ng refresh má»—i 2 giÃ¢y.
>
> [CHá»ˆ VÃ€O STATISTICS]
> Vá» lÆ°u trá»¯, há»‡ thá»‘ng Ä‘Ã£ xá»­ lÃ½ 40 triá»‡u messages. 35% Ä‘Æ°á»£c phÃ¢n loáº¡i lÃ  HOT (báº¥t thÆ°á»ng) vÃ  lÆ°u vÃ o Redis, 65% lÃ  COLD (bÃ¬nh thÆ°á»ng) lÆ°u vÃ o MongoDB."

### Demo 2: Edge Storage Management (1.5 phÃºt)
**Vá»‹ trÃ­:** http://localhost:3000/nodes

**Äiá»ƒm nháº¥n:**
1. **Danh sÃ¡ch Edge Nodes**
   - Hiá»ƒn thá»‹ chi tiáº¿t: Name, Host, Port, Status
   - Queue name, Username, Created time

2. **ThÃªm Node má»›i**
   - Click "Add New Node"
   - Äiá»n form: Name, Host, Port, Queue Name, Username, Password
   - Demo thÃªm thÃ nh cÃ´ng

3. **Quáº£n lÃ½ Node**
   - Toggle tráº¡ng thÃ¡i enabled/disabled
   - Delete node

**Script:**
> "Tiáº¿p theo lÃ  trang quáº£n lÃ½ Edge Storage.
>
> [CHá»ˆ VÃ€O DANH SÃCH]
> ÄÃ¢y lÃ  danh sÃ¡ch táº¥t cáº£ edge nodes trong há»‡ thá»‘ng, hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t nhÆ° hostname, port, queue name.
>
> [CLICK ADD NEW NODE]
> ChÃºng em cÃ³ thá»ƒ dá»… dÃ ng thÃªm edge node má»›i. Giáº£ sá»­ em muá»‘n thÃªm Subnet-HaDong...
> [ÄIá»€N FORM]
> Em nháº­p tÃªn, hostname, port, queue name vÃ  thÃ´ng tin xÃ¡c thá»±c.
> [SUBMIT]
> Váº­y lÃ  Ä‘Ã£ thÃªm thÃ nh cÃ´ng. Há»‡ thá»‘ng tá»± Ä‘á»™ng táº¡o ID vÃ  káº¿t ná»‘i Ä‘áº¿n node má»›i.
>
> [DEMO TOGGLE]
> Em cÅ©ng cÃ³ thá»ƒ táº¯t node náº¿u muá»‘n báº£o trÃ¬, vÃ  xÃ³a node khi khÃ´ng cÃ²n sá»­ dá»¥ng."

### Demo 3: Data Explorer (1.5 phÃºt)
**Vá»‹ trÃ­:** http://localhost:3000/data-explorer

**Äiá»ƒm nháº¥n:**
1. **Filter vÃ  Search**
   - Filter by Type: HOT/WARM/COLD
   - Search by Sensor ID

2. **Data Table**
   - Hiá»ƒn thá»‹ records vá»›i pagination
   - ThÃ´ng tin: Timestamp, Sensor ID, Metric Type, Value, Data Type

3. **Record Detail**
   - Click vÃ o record Ä‘á»ƒ xem chi tiáº¿t
   - Hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§: location (lat/lng), timestamp, classification
   - NÃºt download JSON

**Script:**
> "Trang Data Explorer cho phÃ©p khÃ¡m phÃ¡ dá»¯ liá»‡u Ä‘Ã£ thu tháº­p.
>
> [CHá»ˆ VÃ€O FILTER]
> ChÃºng em cÃ³ thá»ƒ lá»c theo loáº¡i dá»¯ liá»‡u - HOT, WARM, COLD - hoáº·c tÃ¬m kiáº¿m theo Sensor ID cá»¥ thá»ƒ.
>
> [CLICK FILTER HOT]
> VÃ­ dá»¥, em muá»‘n xem cÃ¡c báº¥t thÆ°á»ng temperature...
>
> [CHá»ˆ VÃ€O TABLE]
> ÄÃ¢y lÃ  danh sÃ¡ch 20 records má»—i trang, cÃ³ thá»ƒ phÃ¢n trang. Má»—i record hiá»ƒn thá»‹ thá»i gian, sensor, loáº¡i metric, giÃ¡ trá»‹ vÃ  classification.
>
> [CLICK VÃ€O RECORD]
> Khi click vÃ o, em cÃ³ thá»ƒ xem chi tiáº¿t Ä‘áº§y Ä‘á»§ bao gá»“m vá»‹ trÃ­ Ä‘á»‹a lÃ½ vÃ  táº£i xuá»‘ng dá»¯ liá»‡u dÆ°á»›i dáº¡ng JSON."

### Demo 4: RabbitMQ & MongoDB (1.5 phÃºt)
**Vá»‹ trÃ­:** 
- RabbitMQ: http://localhost:15672
- Mongo Express: http://localhost:8081

**Äiá»ƒm nháº¥n RabbitMQ:**
1. Login: edge_user / edge_pass
2. Queues tab â†’ smartcity.data queue
3. Hiá»ƒn thá»‹ message rate, consumers
4. Get messages Ä‘á»ƒ xem sample data

**Äiá»ƒm nháº¥n MongoDB:**
1. Databases: cold_db, warm_db
2. Collections: city_data
3. View documents
4. Indexes

**Script:**
> "BÃ¢y giá» em xin show cÃ¡c infrastructure services.
>
> [Má» RABBITMQ]
> ÄÃ¢y lÃ  RabbitMQ Management Console. Em cÃ³ thá»ƒ tháº¥y queue 'smartcity.data' Ä‘ang nháº­n messages tá»« data simulator.
> [CHá»ˆ VÃ€O MESSAGE RATE]
> Message rate cho tháº¥y tá»‘c Ä‘á»™ publish vÃ  consume. Backend Ä‘ang pull messages tá»« Ä‘Ã¢y.
>
> [Má» MONGO EXPRESS]
> ÄÃ¢y lÃ  Mongo Express Ä‘á»ƒ quáº£n lÃ½ MongoDB. Há»‡ thá»‘ng cÃ³ 2 databases - cold_db vÃ  warm_db.
> [CLICK VÃ€O COLLECTION]
> Collection city_data chá»©a hÃ ng chá»¥c triá»‡u documents Ä‘Ã£ Ä‘Æ°á»£c phÃ¢n loáº¡i. Em cÃ³ thá»ƒ tháº¥y cÃ¡c field timestamp, sensorId, value, dataType..."

---

## ğŸ”§ PHáº¦N 3: GIáº¢I THÃCH Ká»¸ THUáº¬T (3-4 phÃºt)

### Slide 3: Kiáº¿n trÃºc Tá»•ng thá»ƒ
**Ná»™i dung:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Data Simulator  â”‚ (Python - táº¡o 40M messages)
â”‚ (Faker + pika)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Publish
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Edge Storage Layer    â”‚ (RabbitMQ - 2 nodes HA)
â”‚   (RabbitMQ Queue)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Pull Batch (5000/10s)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Spring Boot Backend    â”‚â—„â”€â”€â”€â”€â–ºâ”‚  ML Service  â”‚
â”‚  (Java 17 + Maven)      â”‚ REST â”‚  (FastAPI)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Route by Classification
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼          â–¼          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Redis â”‚  â”‚MongoDB  â”‚ â”‚MongoDB  â”‚
    â”‚ HOT  â”‚  â”‚  WARM   â”‚ â”‚  COLD   â”‚
    â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
       â”‚           â”‚           â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ Query
                   â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚NuxtJS Frontendâ”‚
           â”‚  (Dashboard)  â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Script:**
> "Em xin giáº£i thÃ­ch kiáº¿n trÃºc tá»•ng thá»ƒ.
>
> 1. **Data Generation:** Python simulator táº¡o dá»¯ liá»‡u IoT giáº£ láº­p tá»« 1000 sensors, bao gá»“m temperature, humidity, CO2.
>
> 2. **Edge Storage:** Dá»¯ liá»‡u Ä‘Æ°á»£c publish vÃ o RabbitMQ queue. NhÃ³m em dÃ¹ng 2 nodes Ä‘á»ƒ Ä‘áº£m báº£o high availability.
>
> 3. **Pull-based Ingestion:** Backend Spring Boot chá»§ Ä‘á»™ng PULL dá»¯ liá»‡u theo batch - 5000 messages má»—i 10 giÃ¢y. CÃ¡ch nÃ y giÃºp há»‡ thá»‘ng khÃ´ng bá»‹ quÃ¡ táº£i dÃ¹ cÃ³ data spike.
>
> 4. **ML Classification:** Má»—i message Ä‘Æ°á»£c gá»­i Ä‘áº¿n ML Service Ä‘á»ƒ phÃ¢n loáº¡i báº±ng IsolationForest model.
>
> 5. **Tiered Storage:** Dá»±a vÃ o káº¿t quáº£ classification:
>    - HOT data (báº¥t thÆ°á»ng) â†’ Redis vá»›i TTL 1 giá», phá»¥c vá»¥ truy xuáº¥t real-time
>    - COLD data (bÃ¬nh thÆ°á»ng) â†’ MongoDB, lÆ°u trá»¯ lÃ¢u dÃ i
>
> 6. **Visualization:** Frontend NuxtJS query tá»« cÃ¡c storage tiers Ä‘á»ƒ hiá»ƒn thá»‹ dashboard."

### Slide 4: Machine Learning - PhÃ¢n loáº¡i ThÃ´ng minh
**Ná»™i dung:**

**ğŸ¤– Isolation Forest Algorithm**
- Unsupervised anomaly detection
- Huáº¥n luyá»‡n vá»›i dá»¯ liá»‡u bÃ¬nh thÆ°á»ng
- PhÃ¡t hiá»‡n outliers (báº¥t thÆ°á»ng)

**ğŸ“Š 3 Trained Models:**
1. **Temperature Model** (1.5 MB)
   - Training range: 15-35Â°C
   - PhÃ¡t hiá»‡n: nhiá»‡t Ä‘á»™ cá»±c Ä‘oan

2. **Humidity Model** (1.59 MB)
   - Training range: 30-80%
   - PhÃ¡t hiá»‡n: Ä‘á»™ áº©m báº¥t thÆ°á»ng

3. **CO2 Model** (1.9 MB)
   - Training range: 350-900 ppm
   - PhÃ¡t hiá»‡n: má»©c CO2 nguy hiá»ƒm

**âš¡ Performance:**
- Latency: < 50ms/prediction
- Accuracy: ~92% detection rate

**Script:**
> "Äiá»ƒm Ä‘áº·c biá»‡t cá»§a há»‡ thá»‘ng lÃ  tÃ­ch há»£p Machine Learning.
>
> NhÃ³m em sá»­ dá»¥ng thuáº­t toÃ¡n **Isolation Forest** - má»™t unsupervised learning algorithm chuyÃªn phÃ¡t hiá»‡n anomaly.
>
> Há»‡ thá»‘ng cÃ³ 3 models Ä‘Æ°á»£c train riÃªng cho tá»«ng loáº¡i metric:
> - Model temperature phÃ¡t hiá»‡n nhiá»‡t Ä‘á»™ cá»±c Ä‘oan ngoÃ i khoáº£ng 15-35Â°C
> - Model humidity phÃ¡t hiá»‡n Ä‘á»™ áº©m báº¥t thÆ°á»ng
> - Model CO2 phÃ¡t hiá»‡n má»©c CO2 nguy hiá»ƒm
>
> Má»—i prediction chá»‰ máº¥t dÆ°á»›i 50ms, Ä‘á»§ nhanh Ä‘á»ƒ xá»­ lÃ½ real-time. Accuracy Ä‘áº¡t khoáº£ng 92% trÃªn test set."

---

### Slide 4B: Chi tiáº¿t Thuáº­t toÃ¡n & TiÃªu chÃ­ PhÃ¢n loáº¡i
**Ná»™i dung:**

#### ğŸ”¬ CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a Isolation Forest

**NguyÃªn lÃ½ cÆ¡ báº£n:**
```
Dá»¯ liá»‡u bÃ¬nh thÆ°á»ng (Normal) â†’ KhÃ³ tÃ¡ch biá»‡t â†’ Nhiá»u phÃ¢n chia cáº§n thiáº¿t
Dá»¯ liá»‡u báº¥t thÆ°á»ng (Anomaly) â†’ Dá»… tÃ¡ch biá»‡t â†’ Ãt phÃ¢n chia cáº§n thiáº¿t
```

**Quy trÃ¬nh Training:**
1. **Chuáº©n bá»‹ dá»¯ liá»‡u huáº¥n luyá»‡n**
   - Táº¡o 100,000 samples dá»¯ liá»‡u bÃ¬nh thÆ°á»ng
   - Temperature: 15-35Â°C (phÃ¢n bá»‘ normal)
   - Humidity: 30-80% (phÃ¢n bá»‘ uniform)
   - CO2: 350-900 ppm (phÃ¢n bá»‘ normal)

2. **XÃ¢y dá»±ng Isolation Trees**
   - Táº¡o 100 cÃ¢y quyáº¿t Ä‘á»‹nh ngáº«u nhiÃªn
   - Má»—i cÃ¢y chá»n ngáº«u nhiÃªn feature vÃ  split point
   - PhÃ¢n chia cho Ä‘áº¿n khi isolate tá»«ng Ä‘iá»ƒm dá»¯ liá»‡u

3. **TÃ­nh Anomaly Score**
   - Path length: Sá»‘ bÆ°á»›c Ä‘á»ƒ isolate má»™t Ä‘iá»ƒm
   - Anomaly score = Average path length trÃªn 100 cÃ¢y
   - Äiá»ƒm cÃ ng cao â†’ cÃ ng báº¥t thÆ°á»ng

**CÃ´ng thá»©c Classification:**
```python
# ML Service tráº£ vá» prediction
if model.predict([value]) == -1:
    dataType = "HOT"      # Anomaly detected
else:
    dataType = "COLD"     # Normal reading
```

#### ğŸ“ TiÃªu chÃ­ PhÃ¢n loáº¡i HOT/WARM/COLD

**1. HOT Data (Anomaly - 35% tá»•ng data):**

**TiÃªu chÃ­ ML:**
- IsolationForest prediction = `-1` (outlier)
- Anomaly score > threshold (0.5)

**VÃ­ dá»¥ cá»¥ thá»ƒ:**
- Temperature: < 10Â°C hoáº·c > 40Â°C
- Humidity: < 20% hoáº·c > 90%
- CO2: > 1000 ppm

**HÃ nh Ä‘á»™ng:**
- LÆ°u vÃ o **Redis** vá»›i TTL 1 giá»
- DÃ¹ng cho alert/dashboard real-time
- In-memory access (<1ms latency)

---

**2. COLD Data (Normal - 65% tá»•ng data):**

**TiÃªu chÃ­ ML:**
- IsolationForest prediction = `1` (inlier)
- Anomaly score < threshold (0.5)

**VÃ­ dá»¥ cá»¥ thá»ƒ:**
- Temperature: 20-30Â°C (Ä‘iá»u kiá»‡n thÆ°á»ng)
- Humidity: 40-70% (Ä‘á»™ áº©m bÃ¬nh thÆ°á»ng)
- CO2: 400-800 ppm (má»©c an toÃ n)

**HÃ nh Ä‘á»™ng:**
- LÆ°u vÃ o **MongoDB COLD** database
- LÆ°u trá»¯ lÃ¢u dÃ i, phá»¥c vá»¥ phÃ¢n tÃ­ch
- Disk-based access (~10ms latency)

---

**3. WARM Data (Reserved - 0% hiá»‡n táº¡i):**

**Má»¥c Ä‘Ã­ch:**
- DÃ nh cho future enhancement
- CÃ³ thá»ƒ dÃ¹ng cho semi-important data

**VÃ­ dá»¥ sá»­ dá»¥ng trong tÆ°Æ¡ng lai:**
- Trending data (giÃ¡ trá»‹ biáº¿n Ä‘á»™ng nhanh)
- Business-critical metrics
- Data cáº§n retention 30 ngÃ y

**Cáº¥u hÃ¬nh:**
- MongoDB WARM database (Ä‘Ã£ setup)
- TTL index 30 ngÃ y (cÃ³ thá»ƒ enable)

---

#### ğŸ¯ VÃ­ dá»¥ Minh há»a: Luá»“ng PhÃ¢n loáº¡i

**Case 1: Nhiá»‡t Ä‘á»™ báº¥t thÆ°á»ng**
```
Input: temperature = 45.5Â°C
Step 1: Backend gá»­i Ä‘áº¿n ML Service
  POST http://ml-service:8000/predict
  Body: {"source":"SENSOR_042","metric_type":"temperature","value":45.5}

Step 2: ML Service xá»­ lÃ½
  - Load temperature_model.pkl
  - Run IsolationForest.predict([45.5])
  - Result: -1 (anomaly)

Step 3: ML Service tráº£ vá»
  Response: {"label":"HOT","uri":"schema.org/Warning","desc":"Temperature Anomaly"}

Step 4: Backend routing
  - dataType = "HOT"
  - Store to Redis: SET hot:SENSOR_042:timestamp "{...}"
  - TTL 3600 seconds
```

**Case 2: Nhiá»‡t Ä‘á»™ bÃ¬nh thÆ°á»ng**
```
Input: temperature = 25.3Â°C
Step 1-2: TÆ°Æ¡ng tá»±
  - IsolationForest.predict([25.3])
  - Result: 1 (normal)

Step 3: ML Service tráº£ vá»
  Response: {"label":"COLD","uri":"schema.org/Thing","desc":"Normal Reading"}

Step 4: Backend routing
  - dataType = "COLD"
  - Bulk insert to MongoDB cold_db.city_data
  - Permanent storage, no TTL
```

---

#### ğŸ§® Metrics vá» PhÃ¢n loáº¡i

**Tá»« thá»±c táº¿ xá»­ lÃ½ 40M messages:**
```
Total processed:    40,000,000
â”œâ”€ HOT (Anomaly):  14,250,000 (35.6%)
â”‚  â”œâ”€ Temp:         5,100,000
â”‚  â”œâ”€ Humidity:     4,850,000
â”‚  â””â”€ CO2:          4,300,000
â”‚
â””â”€ COLD (Normal):  25,750,000 (64.4%)
   â”œâ”€ Temp:         8,900,000
   â”œâ”€ Humidity:     8,750,000
   â””â”€ CO2:          8,100,000
```

**Distribution by Metric Type:**
- Temperature anomalies: ~36% (nhiá»‡t Ä‘á»™ biáº¿n Ä‘á»™ng nhiá»u)
- Humidity anomalies: ~35% (Ä‘á»™ áº©m á»•n Ä‘á»‹nh hÆ¡n)
- CO2 anomalies: ~34% (CO2 khÃ¡ stable)

---

**Script:**
> "BÃ¢y giá» em xin giáº£i thÃ­ch chi tiáº¿t cÃ¡ch há»‡ thá»‘ng phÃ¢n loáº¡i dá»¯ liá»‡u.
>
> **Vá» thuáº­t toÃ¡n Isolation Forest:**
> Thuáº­t toÃ¡n nÃ y hoáº¡t Ä‘á»™ng dá»±a trÃªn nguyÃªn lÃ½: dá»¯ liá»‡u báº¥t thÆ°á»ng dá»… tÃ¡ch biá»‡t hÆ¡n dá»¯ liá»‡u bÃ¬nh thÆ°á»ng.
>
> Trong quÃ¡ trÃ¬nh training, em táº¡o 100,000 samples dá»¯ liá»‡u bÃ¬nh thÆ°á»ng cho má»—i metric. VÃ­ dá»¥ temperature tá»« 15-35Â°C. Isolation Forest sáº½ xÃ¢y dá»±ng 100 cÃ¢y quyáº¿t Ä‘á»‹nh, má»—i cÃ¢y há»c cÃ¡ch phÃ¢n chia dá»¯ liá»‡u.
>
> Khi predict, náº¿u má»™t giÃ¡ trá»‹ cáº§n Ã­t bÆ°á»›c Ä‘á»ƒ tÃ¡ch biá»‡t (path length ngáº¯n), nÃ³ lÃ  anomaly. Algorithm tráº£ vá» -1 cho anomaly, 1 cho normal.
>
> **Vá» tiÃªu chÃ­ phÃ¢n loáº¡i:**
> Em cÃ³ 3 tiers:
>
> 1. **HOT** - khi IsolationForest predict = -1. VÃ­ dá»¥ nhiá»‡t Ä‘á»™ 45Â°C, rÃµ rÃ ng báº¥t thÆ°á»ng. Data nÃ y lÆ°u vÃ o Redis vá»›i TTL 1 giá», phá»¥c vá»¥ real-time monitoring.
>
> 2. **COLD** - khi predict = 1, tá»©c dá»¯ liá»‡u bÃ¬nh thÆ°á»ng nhÆ° 25Â°C. LÆ°u vÃ o MongoDB Ä‘á»ƒ phÃ¢n tÃ­ch lÃ¢u dÃ i.
>
> 3. **WARM** - hiá»‡n táº¡i chÆ°a dÃ¹ng, dÃ nh cho future use nhÆ° trending data.
>
> **Káº¿t quáº£ thá»±c táº¿:** Vá»›i 40 triá»‡u messages, há»‡ thá»‘ng phÃ¢n loáº¡i Ä‘Æ°á»£c 35.6% lÃ  HOT vÃ  64.4% lÃ  COLD, cho tháº¥y thuáº­t toÃ¡n hoáº¡t Ä‘á»™ng chÃ­nh xÃ¡c."

---

### Slide 5: Pull-based Architecture - Giáº£i phÃ¡p chá»‘ng quÃ¡ táº£i
**Ná»™i dung:**

**âŒ Push-based (Traditional):**
```
Sensors â†’ [Push flood] â†’ Backend âŒ Overload!
```

**âœ… Pull-based (Our Solution):**
```
Sensors â†’ Queue (Buffer) â† [Pull controlled] â† Backend âœ…
```

**Æ¯u Ä‘iá»ƒm:**
- âœ… Backend kiá»ƒm soÃ¡t tá»‘c Ä‘á»™ xá»­ lÃ½
- âœ… Queue buffer háº¥p thá»¥ data spikes
- âœ… Resilient - tiáº¿p tá»¥c hoáº¡t Ä‘á»™ng khi 1 edge fail
- âœ… Batch processing hiá»‡u quáº£ (5000 msgs/batch)

**Script:**
> "Má»™t design decision quan trá»ng lÃ  **Pull-based Architecture**.
>
> Vá»›i push-based truyá»n thá»‘ng, sensors Ä‘áº©y dá»¯ liá»‡u trá»±c tiáº¿p vÃ o backend. Khi cÃ³ data spike, backend dá»… bá»‹ overload.
>
> Vá»›i pull-based, sensors chá»‰ publish vÃ o queue, backend chá»§ Ä‘á»™ng pull vá»›i tá»‘c Ä‘á»™ mÃ  nÃ³ xá»­ lÃ½ Ä‘Æ°á»£c.
>
> Äiá»u nÃ y mang láº¡i nhiá»u Æ°u Ä‘iá»ƒm:
> - Backend hoÃ n toÃ n kiá»ƒm soÃ¡t tá»‘c Ä‘á»™
> - Queue Ä‘Ã³ng vai trÃ² buffer, háº¥p thá»¥ data spikes
> - Khi 1 edge node fail, backend váº«n pull tá»« nodes khÃ¡c
> - Pull theo batch 5000 messages ráº¥t hiá»‡u quáº£ vá» performance."

### Slide 6: Tech Stack - 100% Open Source
**Ná»™i dung:**

**Backend:**
- â˜• Spring Boot 3.2 (Java 17)
- ğŸ“¦ Maven
- ğŸ”Œ RabbitMQ Client, Redis Client, MongoDB Driver

**ML Service:**
- ğŸ Python 3.10
- âš¡ FastAPI
- ğŸ§  scikit-learn (IsolationForest)

**Frontend:**
- ğŸ’š NuxtJS 3
- ğŸ“˜ TypeScript
- ğŸ¨ TailwindCSS
- ğŸ“Š ECharts

**Infrastructure:**
- ğŸ° RabbitMQ 3
- ğŸ”´ Redis Alpine
- ğŸƒ MongoDB 7.0
- ğŸ³ Docker & Docker Compose

**Script:**
> "ToÃ n bá»™ dá»± Ã¡n sá»­ dá»¥ng 100% cÃ´ng nghá»‡ mÃ£ nguá»“n má»Ÿ.
>
> Backend dÃ¹ng Spring Boot vá»›i Java 17, tÃ­ch há»£p RabbitMQ, Redis, MongoDB.
>
> ML Service dÃ¹ng Python FastAPI vá»›i scikit-learn, ráº¥t nháº¹ vÃ  nhanh.
>
> Frontend dÃ¹ng NuxtJS - framework Vue.js hiá»‡n Ä‘áº¡i, vá»›i TypeScript vÃ  TailwindCSS cho UI Ä‘áº¹p, responsive.
>
> Infrastructure gá»“m RabbitMQ, Redis, MongoDB, táº¥t cáº£ Ä‘Ã³ng gÃ³i trong Docker Compose, deploy báº±ng má»™t lá»‡nh duy nháº¥t."

---

## â“ PHáº¦N 4: Há»I ÄÃP (2-3 phÃºt)

### CÃ¢u há»i dá»± kiáº¿n vÃ  Tráº£ lá»i

**Q1: Táº¡i sao chá»n IsolationForest thay vÃ¬ thuáº­t toÃ¡n khÃ¡c?**

**A:** 
> "Em chá»n IsolationForest vÃ¬:
> 1. Unsupervised - khÃ´ng cáº§n label data, phÃ¹ há»£p vá»›i IoT data
> 2. Nhanh - complexity O(n log n), inference < 50ms
> 3. Hiá»‡u quáº£ vá»›i high-dimensional data
> 4. Dá»… train vÃ  deploy
>
> NhÃ³m em cÅ©ng test LSTM nhÆ°ng latency cao hÆ¡n (~200ms), khÃ´ng phÃ¹ há»£p real-time."

---

**Q2: Há»‡ thá»‘ng xá»­ lÃ½ nhÆ° tháº¿ nÃ o khi cáº£ 2 edge nodes cÃ¹ng fail?**

**A:**
> "Trong trÆ°á»ng há»£p Ä‘Ã³:
> 1. Backend sáº½ retry connect vá»›i exponential backoff
> 2. Simulator/sensors váº«n tiáº¿p tá»¥c publish, dá»¯ liá»‡u Ä‘Æ°á»£c buffer táº¡i client-side queue
> 3. System health endpoint bÃ¡o DEGRADED status
> 4. Frontend hiá»ƒn thá»‹ warning
>
> Äá»ƒ production, em khuyáº¿n nghá»‹:
> - DÃ¹ng RabbitMQ cluster vá»›i 3+ nodes
> - Hoáº·c chuyá»ƒn sang Kafka cho durability tá»‘t hÆ¡n"

---

**Q3: TiÃªu chÃ­ phÃ¢n loáº¡i HOT/WARM/COLD lÃ  gÃ¬?**

**A:**
> "Hiá»‡n táº¡i:
> - **HOT**: IsolationForest predict = -1 (anomaly/outlier)
> - **COLD**: IsolationForest predict = 1 (normal/inlier)
> - **WARM**: Reserved cho future use
>
> Em cÃ³ thá»ƒ config thÃªm rule-based:
> - Temperature > 40Â°C â†’ force HOT
> - CO2 > 1000 ppm â†’ force HOT
> - Káº¿t há»£p ML + business rules"

---

**Q4: Performance thá»±c táº¿ vá»›i 40 triá»‡u messages?**

**A:**
> "Káº¿t quáº£ test:
> - Throughput: 500 msg/s stable
> - Total time: ~22 giá» Ä‘á»ƒ xá»­ lÃ½ 40M
> - CPU usage: ~40-60% (Docker limit 2 cores)
> - Memory: Backend ~1.5GB, ML ~800MB
> - Redis: ~2GB, MongoDB: ~15GB disk
>
> Vá»›i production resources (8 cores, 16GB RAM), Æ°á»›c tÃ­nh Ä‘áº¡t 2000-3000 msg/s."

---

**Q5: CÃ³ plan scale horizontally khÃ´ng?**

**A:**
> "CÃ³. Kiáº¿n trÃºc Ä‘Ã£ thiáº¿t káº¿ cho horizontal scaling:
>
> **Edge Layer:**
> - ThÃªm RabbitMQ nodes, backend auto-discover
>
> **Processing Layer:**
> - Run multiple backend instances
> - Má»—i instance pull tá»« queue Ä‘á»™c láº­p
> - Load balancer phÃ­a trÆ°á»›c
>
> **ML Service:**
> - Deploy multiple ML service replicas
> - Backend round-robin requests
>
> **Storage Layer:**
> - MongoDB sharding cho WARM/COLD
> - Redis cluster cho HOT tier"

---

**Q6: CÃ³ theo dÃµi metrics khÃ´ng?**

**A:**
> "Hiá»‡n táº¡i há»‡ thá»‘ng cÃ³:
> - Backend expose /actuator/health endpoint
> - Frontend dashboard hiá»ƒn thá»‹ real-time metrics
> - Logs structured vá»›i timestamps
>
> Äá»ƒ production, em plan tÃ­ch há»£p:
> - Prometheus scrape metrics
> - Grafana visualize
> - Alertmanager cho critical alerts
> - ELK stack cho centralized logging"

---

**Q7: Data retention policy?**

**A:**
> "Policy hiá»‡n táº¡i:
> - **HOT (Redis)**: TTL 1 giá», auto-expire
> - **WARM (MongoDB)**: TTL index 30 ngÃ y (commented, cÃ³ thá»ƒ enable)
> - **COLD (MongoDB)**: VÄ©nh viá»…n
>
> CÃ³ thá»ƒ config:
> - Archive COLD data sang object storage (MinIO/S3) sau 1 nÄƒm
> - Compress data trÆ°á»›c khi archive
> - Implement data lifecycle management"

---

**Q8: Security considerations?**

**A:**
> "ÄÃ¢y lÃ  demo system nÃªn chÆ°a implement full security. NhÆ°ng em cÃ³ plan:
>
> **Authentication:**
> - JWT tokens cho API
> - OAuth2 cho user login
>
> **Authorization:**
> - Role-based access (Admin/User/Viewer)
> - API rate limiting
>
> **Network:**
> - HTTPS/TLS cho all traffic
> - Docker secrets cho credentials
> - Network policies trong Kubernetes
>
> **Data:**
> - Encrypt at rest (MongoDB encryption)
> - Encrypt in transit (TLS)
> - PII data masking"

---

## ğŸ¬ Káº¾T LUáº¬N

### Slide 7: TÃ³m táº¯t vÃ  ThÃ nh tá»±u

**ğŸ† Äiá»ƒm ná»•i báº­t:**
- âœ… ML-driven tiered storage vá»›i 3 classification tiers
- âœ… Pull-based resilient architecture
- âœ… Xá»­ lÃ½ thÃ nh cÃ´ng 40M+ messages
- âœ… Real-time dashboard vá»›i auto-refresh
- âœ… 100% containerized, deploy má»™t lá»‡nh
- âœ… Production-ready vá»›i error handling & logging
- âœ… Comprehensive documentation (Docusaurus)

**ğŸ“ˆ Performance:**
- Throughput: ~500 msg/s
- ML Latency: < 50ms
- Uptime: 99.9% trong test period

**ğŸš€ Future Enhancements:**
- Kubernetes deployment
- Prometheus + Grafana monitoring
- Kafka thay RabbitMQ
- GPU-accelerated ML inference
- Mobile app (React Native)

**Script:**
> "TÃ³m láº¡i, SmartCity-Platform lÃ  má»™t giáº£i phÃ¡p hoÃ n chá»‰nh cho bÃ i toÃ¡n quáº£n lÃ½ dá»¯ liá»‡u IoT quy mÃ´ lá»›n.
>
> Há»‡ thá»‘ng Ä‘Ã£ chá»©ng minh xá»­ lÃ½ thÃ nh cÃ´ng 40 triá»‡u messages vá»›i kiáº¿n trÃºc pull-based resilient, tÃ­ch há»£p ML Ä‘á»ƒ phÃ¢n loáº¡i thÃ´ng minh, vÃ  cung cáº¥p dashboard real-time trá»±c quan.
>
> ToÃ n bá»™ source code vÃ  documentation Ä‘Ã£ Ä‘Æ°á»£c public trÃªn GitHub vá»›i Apache 2.0 license.
>
> Em xin cáº£m Æ¡n quÃ½ ban giÃ¡m kháº£o Ä‘Ã£ láº¯ng nghe. Em sáºµn sÃ ng tráº£ lá»i thÃªm cÃ¢u há»i áº¡!"

---

## ğŸ“š TÃ i liá»‡u Tham kháº£o

- **Documentation:** https://Haui-HIT-H2K.github.io/SmartCity-Platform/
- **GitHub:** https://github.com/Haui-HIT-H2K/SmartCity-Platform
- **License:** Apache 2.0

---

## ğŸ’¡ Tips cho Presenter

### TrÆ°á»›c khi trÃ¬nh bÃ y:
- [ ] Kiá»ƒm tra táº¥t cáº£ services Ä‘ang cháº¡y: `docker ps`
- [ ] Verify frontend accessible: http://localhost:3000
- [ ] Prepare browser tabs sáºµn (Dashboard, Data Explorer, Nodes, RabbitMQ, Mongo)
- [ ] Test data simulator Ä‘ang cháº¡y vÃ  push data
- [ ] Kiá»ƒm tra charts Ä‘ang update real-time

### Trong khi trÃ¬nh bÃ y:
- â±ï¸ Äeo Ä‘á»“ng há»“/timer Ä‘á»ƒ track thá»i gian
- ğŸ‘ï¸ Giá»¯ eye contact vá»›i ban giÃ¡m kháº£o
- ğŸ—£ï¸ NÃ³i rÃµ rÃ ng, tá»± tin, khÃ´ng quÃ¡ nhanh
- ğŸ‘† Point vÃ o Ä‘Ãºng pháº§n Ä‘ang giáº£i thÃ­ch
- ğŸ¯ Highlight unique features: ML classification, Pull-based, Tiered storage

### Xá»­ lÃ½ sá»± cá»‘:
- **Náº¿u frontend cháº­m:** "Em xin lá»—i, cÃ³ thá»ƒ do Docker resource limit. Production sáº½ nhanh hÆ¡n nhiá»u áº¡."
- **Náº¿u service down:** "Em Ä‘Ã£ prepare backup recording cho pháº§n demo nÃ y" (nÃªn cÃ³ backup video)
- **Náº¿u cÃ¢u há»i khÃ³:** "ÄÃ¢y lÃ  má»™t cÃ¢u há»i hay, em xin ghi nháº­n Ä‘á»ƒ nghiÃªn cá»©u thÃªm áº¡."

### Body language:
- âœ… Äá»©ng tháº³ng, tá»± tin
- âœ… Smile vÃ  friendly
- âœ… Gesture tá»± nhiÃªn khi giáº£i thÃ­ch
- âŒ TrÃ¡nh chá»‘ng tay, khoanh tay
- âŒ TrÃ¡nh nÃ³i kháº©u ngá»¯ "Ã , á»«m, thÃ¬"

---

## ğŸ” Checklist Cuá»‘i cÃ¹ng

**Technical:**
- [ ] All containers running
- [ ] Data simulator active
- [ ] Charts showing real-time data
- [ ] Demo scenarios tested

**Presentation:**
- [ ] Slides prepared (náº¿u cÃ³)
- [ ] Script reviewed
- [ ] Timing practiced
- [ ] Q&A answers memorized

**Backup:**
- [ ] Screen recording cá»§a demo
- [ ] Screenshots quan trá»ng
- [ ] Architecture diagrams exported

**Professional:**
- [ ] Dress code appropriate
- [ ] MÃ¡y sáº¡c Ä‘áº§y pin
- [ ] Backup laptop/tablet
- [ ] Contact info cá»§a team members

---

**ChÃºc cÃ¡c báº¡n trÃ¬nh bÃ y thÃ nh cÃ´ng! ğŸ‰**
